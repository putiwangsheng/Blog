# 《CSS设计指南》笔记
## 用于页内导航的ID
ID可以用在页面导航链接中，比如
`<a href="#bio">Bio</a>`
点击链接页面会滚到当前页面id为bio的元素位置。

这样的话，如果要写一个简单的“返回顶部”，可以这样
`<a href="#">back to top</a>`，	缺点就是回到顶部的速度无法设置。
> 单独一个“#”也可以用作url的占位符

## 伪类和伪元素
### 伪类
伪类分为UI伪类和结构化伪类
- **UI伪类**：伪类会在html处于某个状态（如鼠标悬停时），为该元素应用相应的css样式
- **结构化伪类**：在标记中存在某种结构上的关系时，为该元素应用相应的样式。

### 伪元素
伪元素就是在文档中若有实无的元素。

### 区别
1. 伪类和伪元素形式上的区别应该是一个冒号还是两个冒号的问题。
**伪类应该是一个冒号**：像`:hover`、`:first-child`
**伪元素应该有两个冒号**：像`::before`、`::first-letter`
> 虽然css1和css2都支持伪元素用一个冒号，但应该尽量使用两个冒号，一是和伪类区分，二是单冒号的伪元素可能会被淘汰掉。

2. 在用途上，简单说伪类应该是为元素在特定情况下应用样式，伪元素是为文档添加显示的内容，但是文档中并不是真正存在该元素。

具体伪类和伪元素使用时可以查阅MDN。

## 层叠
一个元素通常会有多个样式，层叠就是为了判断元素应该应用哪个样式的问题。

### 样式来源
- 浏览器默认样式表（由于各个浏览器默认样式会有所不同，为了兼容，一般会在页面加入`reset.css`，重置默认样式）
- 用户样式表
- 链接样式表（`<link>`）
- 嵌入样式表
- 行内样式表
> 优先级应该是越来越高

### 层叠规则
1. 一般选择器的优先级是`id > class > tag`，所以面对一个选择符，依次看id，class，tag的个数，id越多优先级越高，id相同，比较class，以此类推。（所谓的特指度）
2. 根据上述样式来源的优先级。在链接样式里，特指度相同的情况下，后定义的优于先定义的。
3. 设定的样式优于继承的样式。（不用遵循特指度）

> 空格`!important`分好`;`，用于加重权重，优先级高于`id`，一般用得较少。

## 盒模型
### 叠加外边距
垂直方向上的外边距会叠加，水平方向上的不会。

### 盒子大小
- 没有设置width的盒子，内容宽度会扩充至父元素。当添加边框，内外边距时会压缩内容宽度。
- 对于设置了width的盒子，添加边框和内外边距，会导致盒子扩展。

### 兼容
`width`一般包含`content`，但在IE下只包含`content，padding，border`

解决方法：
`box-sizing`：改变默认css盒模型对元素宽高的计算方式

属性：`border-box，content-box`
`content-box`：标准盒模型，只包含内容区宽高
`border-box`：`width = border + padding + 内容的宽度`，IE下的怪异模式

## 浮动与清除浮动
### 原理
浮动元素会脱离普通流，它会尽量想左上方靠近，直到碰到另一个元素的边界。

### 用途
- 文本绕排图片效果
- 分栏布局

### 问题
一般来说，浮动`float`能够让我们更方便的布局，但同时也会产生很多的问题。比如脱离普通流。

- 紧跟其后的元素会在空间允许的情况下向上提升到与浮动元素平起平坐。
- 父元素高度塌陷
看个图
![float](http://i4.tietuku.cn/84bd6bc3d2631b8d.png))
可以看到浮动导致的一个比较严重的问题就是wrap高度塌陷。也就是说包含框不会根据浮动元素的内容自动伸缩高度，致使包含框高度变为0，造成**高度塌陷现象**。

### 清除浮动与闭合浮动
- 为父元素增加`overflower:hidden`
- 同时浮动父元素
- 添加非浮动的清除元素（利用伪元素）
清除浮动虽然可以改变footer的位置，却无法解决wrap高度塌陷的问题。
于是就需要闭合浮动。所谓闭合浮动，就是用一些方法使浮动元素闭合，减少浮动带来的影响。
闭合浮动有多种方法，其中最合适的应该是使用伪元素`:after`。
```css
.clearfix:after {
	content: '.';
	display: block;
	height: 0;
	visibility: hidden;
	clear: both;
}
```
> 这里还牵扯到块级格式上下文的问题
